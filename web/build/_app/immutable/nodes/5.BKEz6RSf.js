import{a as A,f as S}from"../chunks/BWhf_et0.js";import{p as J,t as N,g as t,a as $,s as d,b as r,d as s,c as o,r as i,n as z}from"../chunks/CNJltf12.js";import{e as B,s as P}from"../chunks/DVb_Jh_g.js";import{i as F}from"../chunks/9xbBwwko.js";import{s as H,r as w}from"../chunks/C6nRcDEB.js";import{b as _}from"../chunks/BfurP5X8.js";import{g as I}from"../chunks/Cx1_F7o8.js";import{a as K}from"../chunks/DrIW9XXN.js";var L=S('<div role="alert" class="rounded-md bg-red-50 px-4 py-3 text-sm text-red-700"> </div>'),M=S('<div class="flex min-h-screen items-center justify-center bg-gray-50"><div class="w-full max-w-sm space-y-6 rounded-lg border border-gray-200 bg-white p-8 shadow-sm"><div class="text-center"><h1 class="text-2xl font-semibold text-gray-900">Create Account</h1> <p class="mt-1 text-sm text-gray-500">Get started with Aira</p></div> <!> <form class="space-y-4"><div><label for="name" class="block text-sm font-medium text-gray-700">Name</label> <input id="name" type="text" required="" autocomplete="name" class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm shadow-sm focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900"/></div> <div><label for="email" class="block text-sm font-medium text-gray-700">Email</label> <input id="email" type="email" required="" autocomplete="email" class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm shadow-sm focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700">Password</label> <input id="password" type="password" required="" autocomplete="new-password" class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm shadow-sm focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900"/></div> <button type="submit" class="w-full rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50"> </button></form> <p class="text-center text-sm text-gray-500">Already have an account? <a href="/login" class="font-medium text-gray-900 hover:underline">Sign in</a></p></div></div>');function te(O,R){J(R,!0);let m=d(""),u=d(""),c=d(""),n=d(""),l=d(!1);async function T(e){e.preventDefault(),s(n,""),s(l,!0);try{const a=await fetch("/api/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t(m),email:t(u),password:t(c)})});if(!a.ok){const G=await a.json().catch(()=>({}));s(n,G.detail||`Registration failed (${a.status})`,!0);return}const h=await a.json();K.login(h.token),I("/dashboard")}catch{s(n,"Network error. Please try again.")}finally{s(l,!1)}}var f=M(),k=o(f),j=r(o(k),2);{var D=e=>{var a=L(),h=o(a,!0);i(a),N(()=>P(h,t(n))),A(e,a)};F(j,e=>{t(n)&&e(D)})}var p=r(j,2),g=o(p),C=r(o(g),2);w(C),i(g);var b=r(g,2),q=r(o(b),2);w(q),i(b);var v=r(b,2),y=r(o(v),2);w(y),H(y,"minlength",8),i(v);var x=r(v,2),E=o(x,!0);i(x),i(p),z(2),i(k),i(f),N(()=>{x.disabled=t(l),P(E,t(l)?"Creating account...":"Create account")}),B("submit",p,T),_(C,()=>t(m),e=>s(m,e)),_(q,()=>t(u),e=>s(u,e)),_(y,()=>t(c),e=>s(c,e)),A(O,f),$()}export{te as component};
