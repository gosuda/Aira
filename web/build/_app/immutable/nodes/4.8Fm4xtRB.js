import{a as _,f as q}from"../chunks/BWhf_et0.js";import{p as C,t as k,g as a,a as E,s as l,b as i,c as r,r as s,n as I,d as o}from"../chunks/CNJltf12.js";import{e as J,s as j}from"../chunks/DVb_Jh_g.js";import{i as R}from"../chunks/9xbBwwko.js";import{r as S}from"../chunks/C6nRcDEB.js";import{b as P}from"../chunks/BfurP5X8.js";import{g as $}from"../chunks/Cx1_F7o8.js";import{a as z}from"../chunks/DrIW9XXN.js";var B=q('<div role="alert" class="rounded-md bg-red-50 px-4 py-3 text-sm text-red-700"> </div>'),F=q(`<div class="flex min-h-screen items-center justify-center bg-gray-50"><div class="w-full max-w-sm space-y-6 rounded-lg border border-gray-200 bg-white p-8 shadow-sm"><div class="text-center"><h1 class="text-2xl font-semibold text-gray-900">Aira</h1> <p class="mt-1 text-sm text-gray-500">AI-native kanban platform</p></div> <!> <form class="space-y-4"><div><label for="email" class="block text-sm font-medium text-gray-700">Email</label> <input id="email" type="email" required="" autocomplete="email" class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm shadow-sm focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700">Password</label> <input id="password" type="password" required="" autocomplete="current-password" class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm shadow-sm focus:border-gray-900 focus:outline-none focus:ring-1 focus:ring-gray-900"/></div> <button type="submit" class="w-full rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50"> </button></form> <p class="text-center text-sm text-gray-500">Don't have an account? <a href="/register" class="font-medium text-gray-900 hover:underline">Register</a></p></div></div>`);function X(A,D){C(D,!0);let m=l(""),u=l(""),n=l(""),d=l(!1);async function L(t){t.preventDefault(),o(n,""),o(d,!0);try{const e=await fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a(m),password:a(u)})});if(!e.ok){const T=await e.json().catch(()=>({}));o(n,T.detail||`Login failed (${e.status})`,!0);return}const b=await e.json();z.login(b.token),$("/dashboard")}catch{o(n,"Network error. Please try again.")}finally{o(d,!1)}}var c=F(),y=r(c),x=i(r(y),2);{var N=t=>{var e=B(),b=r(e,!0);s(e),k(()=>j(b,a(n))),_(t,e)};R(x,t=>{a(n)&&t(N)})}var f=i(x,2),p=r(f),h=i(r(p),2);S(h),s(p);var g=i(p,2),w=i(r(g),2);S(w),s(g);var v=i(g,2),O=r(v,!0);s(v),s(f),I(2),s(y),s(c),k(()=>{v.disabled=a(d),j(O,a(d)?"Signing in...":"Sign in")}),J("submit",f,L),P(h,()=>a(m),t=>o(m,t)),P(w,()=>a(u),t=>o(u,t)),_(A,c),E()}export{X as component};
